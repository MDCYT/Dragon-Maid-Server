<%- include ('partials/header.ejs') %>

<body class="background-maid-dragon">

    <!--Logo here-->
    <div>
        <div class="row mt-4">
            <div class="col-md-12 justify-center flex">
                <div class="logo">
                    <img src="img/logo.png" alt="logo">
                </div>
            </div>

            <!-- Leaderboard logo with space -->
            <div class="col-md-12 mt-1 flex justify-center">
                <div class="logo">
                    <img src="img/world ranking.png" alt="logo">
                </div>
            </div>
        </div>
    </div>

        <!-- If have data.error, show a alert-->
        <% if (data.error) { %>
            <div class="justify-center flex mt-10 mb-8">
                <div class="bg-red-600 text-white text-center text-2xl rounded-3xl p-6">
                    <%= data.error %><br><br>
                    Please try later.
                </div>
            </div>

            <div class="justify-center flex mt-10 mb-8">
                <a href="/" class="bg-green-300 text-black text-center text-2xl rounded-full p-6 hover:bg-green-400 duration-500 font-bold">
                        Refresh
                </a>
            </div>
        <% } else { %>
            <div class="justify-center flex mt-4 mb-8">


                <div class="w-4/5">
                    <!-- Separate line -->
                    <div class="bg-white font-black  text-center rounded-3xl p-4">
                        <div class="row flex justify-between  pb-2">
                            <h2 class="font-black">Username</h2>
                            <h2 class="font-black">Coins</h2>
                        </div>
                        <hr class="mb-2">
        
                        <% data.forEach(user => { %>
                        <div class="row flex justify-between my-2">
                            <p class="text-xl"><%= user.rank %>. <%= user.username %></p>
                            <p><%= user.coins %></p>
                        </div>
                        <% }) %>
                    </div>
        
                    <!-- One button for back in the leaderboard, a input for put a page number, and a button for next page -->
                    <div class="row flex justify-center py-4">
                        <a href="/?page=<%= page - 1 %>&limit=<%= limit %>" class="bg-lime-400 hover:bg-lime-600 hover:text-white font-bold py-1 px-4 rounded text-xl duration-300 text-black">Back
                        </a>
                        <form id="search-form">
                            <input id="search-input"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 mx-3 text-center"
                            type="text" placeholder="Page number">
                        </form>
                        <a class="bg-lime-400 hover:bg-lime-600 hover:text-white font-bold py-1 px-4 rounded text-xl duration-300 text-black"
                            href="/?page=<%= page + 1 %>&limit=<%= limit %>">Next</a>
                    </div>
        
        
        
                </div>
            </div>
        <% } %>


        <script src="js/index.js"></script>
</body>

</html>